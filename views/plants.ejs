<!DOCTYPE html>
<html>
<head>
    <title>Plants</title>
    <link rel='stylesheet' href='/stylesheets/style.css'/>
</head>
<body>
<h1>Plants</h1>
<h2><%= plants.length %> entries</h2>

<div id="searchPanel">
        <input type="radio" id="datetime" name="sort_heuristic" value="HTML">
        <label for="datetime">Sort by date time</label><br>
        <input type="radio" id="identification" name="sort_heuristic" value="CSS">
        <label for="identification">Sort by identification status</label><br>
        <input type="radio" id="distance" name="sort_heuristic" value="JavaScript">
        <label for="distance">Sort by distance (WIP!)</label>
</div>

<div id="searchResults">
<% for(var i = 0; i < plants.length; i++) { %>
        <% const plant = plants[i]%>
        <div
                class="searchEntry"
                data-datetime="<%= plant.date_time_seen %>"
                data-identification="<%= plant.identify_status %>"
                data-lat="<%= plant.plant_location.lat %>"
                data-long="<%= plant.plant_location.long %>"
        >

        <h2><%= plant.plant_name %></h2>
        <p><%= plant.identify_status %></p>
        <p>Description: <%= plant.description %></p>
        <img src=<%= plant.img %> alt=<%= plant.plant_name %> />
        <p><%= plant.date_time_seen %></p>
        <p>Plant width: <%= plant.plant_width %>cm</p>
        <p>Plant height: <%= plant.plant_height %>cm</p>
        <p><%= plant.plant_location.lat %></p>
        <p><%= plant.plant_location.long %></p>
        <iframe
                width="300"
                height="170"
                frameborder="0"
                scrolling="no"
                marginheight="0"
                marginwidth="0"
                src="https://maps.google.com/maps?q=<%= plant.plant_location.lat %>,<%= plant.plant_location.long %>&hl=es&z=14&amp;output=embed"
        >
        </iframe>
        <p>Has flowers <input type="checkbox" checked="<%= plant.has_leaves %>" disabled="disabled"></p>
        <p>Has fruit  <input type="checkbox" checked="<%= plant.has_fruit %>" disabled="disabled"></p>
        <p>Has seeds  <input type="checkbox" checked="<%= plant.has_seeds %>" disabled="disabled"></p>
        <p><%= plant.sun_exposure %></p>
        <% const plant_colour = plant.plant_colour %>
        <p style="background-color:rgb(<%= plant_colour.r %>, <%= plant_colour.g %>, <%= plant_colour.b %>);">Plant Colour</p>
        <% const flower_colour = plant.flower_colour %>
        <p style="background-color:rgb(<%= flower_colour.r %>, <%= flower_colour.g %>, <%= flower_colour.b %>);">Flower Colour</p>
        <h3>Comments</h3>
        <%  for (let comment of plant.comments){ %>
            <p><%= comment %></p>
        <% }%>
        </div>




<% } %>
</div>
<script src="/javascripts/search.js"></script>
</body>
</html>
